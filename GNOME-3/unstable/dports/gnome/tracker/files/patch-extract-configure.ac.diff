--- configure.ac.orig	2014-11-06 02:53:04.000000000 -0800
+++ configure.ac	2014-11-17 16:01:48.000000000 -0800
@@ -1124,6 +1124,9 @@
    TRACKER_MINER_FS_CFLAGS="$TRACKER_MINER_FS_CFLAGS $LIBMEDIAART_CFLAGS"
    TRACKER_MINER_FS_LIBS="$TRACKER_MINER_FS_LIBS $LIBMEDIAART_LIBS"
 
+   LIBTRACKER_EXTRACT_CFLAGS="$LIBTRACKER_EXTRACT_CFLAGS $LIBMEDIAART_CFLAGS"
+   LIBTRACKER_EXTRACT_LIBS="$LIBTRACKER_EXTRACT_LIBS $LIBMEDIAART_LIBS"
+
    # Used for .pc file...
    LIBTRACKER_MINER_PC_REQUIRES="libmediaart-1.0"
    AC_SUBST(LIBTRACKER_MINER_PC_REQUIRES)
@@ -2113,6 +2116,9 @@
    AC_SUBST(LIBGIF_CFLAGS)
    AC_SUBST(LIBGIF_LIBS)
 
+   LIBTRACKER_EXTRACT_CFLAGS="$LIBTRACKER_EXTRACT_CFLAGS $LIBGIF_CFLAGS"
+   LIBTRACKER_EXTRACT_LIBS="$LIBTRACKER_EXTRACT_LIBS $LIBGIF_LIBS"
+
    if test "x$have_libgif" = "xyes"; then
       AC_DEFINE(HAVE_LIBGIF, [], [Define if we have libgif])
    fi
@@ -2287,13 +2293,16 @@
 
 if test "x$enable_libvorbis" != "xno" ; then
    PKG_CHECK_MODULES(LIBVORBIS,
-                     [vorbisfile >= $LIBVORBIS_REQUIRED],
+                     [vorbisfile >= $LIBVORBIS_REQUIRED vorbis >= $LIBVORBIS_REQUIRED],
                      [have_libvorbis=yes],
                      [have_libvorbis=no])
 
    AC_SUBST(LIBVORBIS_CFLAGS)
    AC_SUBST(LIBVORBIS_LIBS)
 
+   LIBTRACKER_EXTRACT_CFLAGS="$LIBTRACKER_EXTRACT_CFLAGS $LIBVORBIS_CFLAGS"
+   LIBTRACKER_EXTRACT_LIBS="$LIBTRACKER_EXTRACT_LIBS $LIBVORBIS_LIBS"
+
    if test "x$have_libvorbis" = "xyes"; then
       AC_DEFINE(HAVE_LIBVORBIS, [], [Define if we have libvorbis])
    fi
