--- configure.orig1	2014-03-22 09:59:44.000000000 +0100
+++ configure.ac	2014-03-22 11:12:09.000000000 +0100
@@ -985,6 +985,9 @@
    TRACKER_EXTRACT_CFLAGS="$TRACKER_EXTRACT_CFLAGS $LIBMEDIAART_CFLAGS"
    TRACKER_EXTRACT_LIBS="$TRACKER_EXTRACT_LIBS $LIBMEDIAART_LIBS"
 
+   LIBTRACKER_EXTRACT_CFLAGS="$LIBTRACKER_EXTRACT_CFLAGS $LIBMEDIAART_CFLAGS"
+   LIBTRACKER_EXTRACT_LIBS="$LIBTRACKER_EXTRACT_LIBS $LIBMEDIAART_LIBS"
+
    # Used for .pc file...
    LIBTRACKER_MINER_PC_REQUIRES="libmediaart-1.0"
    AC_SUBST(LIBTRACKER_MINER_PC_REQUIRES)
@@ -1834,6 +1837,9 @@
    AC_SUBST(LIBGIF_CFLAGS)
    AC_SUBST(LIBGIF_LIBS)
 
+   LIBTRACKER_EXTRACT_CFLAGS="$LIBTRACKER_EXTRACT_CFLAGS $LIBGIF_CFLAGS"
+   LIBTRACKER_EXTRACT_LIBS="$LIBTRACKER_EXTRACT_LIBS $LIBGIF_LIBS"
+
    if test "x$have_libgif" = "xyes"; then
       AC_DEFINE(HAVE_LIBGIF, [], [Define if we have libgif])
    fi
@@ -2004,13 +2010,16 @@
 
 if test "x$enable_libvorbis" != "xno" ; then
    PKG_CHECK_MODULES(LIBVORBIS,
-                     [vorbisfile >= $LIBVORBIS_REQUIRED],
+                     [vorbisfile >= $LIBVORBIS_REQUIRED vorbis >= $LIBVORBIS_REQUIRED],
                      [have_libvorbis=yes],
                      [have_libvorbis=no])
 
    AC_SUBST(LIBVORBIS_CFLAGS)
    AC_SUBST(LIBVORBIS_LIBS)
 
+   LIBTRACKER_EXTRACT_CFLAGS="$LIBTRACKER_EXTRACT_CFLAGS $LIBVORBIS_CFLAGS"
+   LIBTRACKER_EXTRACT_LIBS="$LIBTRACKER_EXTRACT_LIBS $LIBVORBIS_LIBS"
+
    if test "x$have_libvorbis" = "xyes"; then
       AC_DEFINE(HAVE_LIBVORBIS, [], [Define if we have libvorbis])
    fi
